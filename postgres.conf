# PostgreSQL Configuration
# Optimizado para 256MB RAM / 0.5 CPU

# Memory Settings (Optimizado para 256MB)
shared_buffers = 64MB              # 25% de RAM disponible
effective_cache_size = 192MB       # 75% de RAM disponible
work_mem = 4MB                     # Por operación de sorting
maintenance_work_mem = 16MB        # Para VACUUM, CREATE INDEX

# Connection Settings
max_connections = 20               # Límite de conexiones
superuser_reserved_connections = 3

# Write Ahead Log (WAL)
wal_buffers = 2MB
min_wal_size = 80MB
max_wal_size = 1GB

# Query Planner
random_page_cost = 1.1             # Para SSD
effective_io_concurrency = 200     # Para SSD

# Checkpoints
checkpoint_completion_target = 0.9
checkpoint_timeout = 10min

# Logging (Mínimo para ahorrar recursos)
logging_collector = off
log_statement = 'none'
log_duration = off

# Autovacuum (Optimizado)
autovacuum = on
autovacuum_max_workers = 1
autovacuum_naptime = 1min

# Statistics
track_activities = on
track_counts = on
track_io_timing = off              # Desactivado para ahorrar CPU

# Locale
lc_messages = 'en_US.UTF-8'
lc_monetary = 'es_CL.UTF-8'
lc_numeric = 'es_CL.UTF-8'
lc_time = 'es_CL.UTF-8'
